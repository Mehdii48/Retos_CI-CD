# Challenge 07 - Estructura simple
CC = gcc
CFLAGS = -Wall -Wextra -Werror -std=c99

# Programa principal
PROGRAM = programa

# Pruebas
TEST = test_runner

.PHONY: all build test clean

all: build test

build: main.c suma.c suma.h
	@echo "ğŸ”¨ Compilando programa..."
	$(CC) $(CFLAGS) -o $(PROGRAM) main.c suma.c
	@echo "âœ… Programa: $(PROGRAM)"

test: test_challenge07.c suma.c suma.h
	@echo "ğŸ§ª Compilando pruebas..."
	$(CC) $(CFLAGS) -o $(TEST) test_challenge07.c suma.c
	@echo "âœ… Ejecutando pruebas..."
	./$(TEST) || (echo "âŒ Pruebas fallaron" && exit 1)

clean:
	rm -f $(PROGRAM) $(TEST)
	@echo "ğŸ§¹ Limpiado"