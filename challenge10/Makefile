# Challenge 10 - Docker
CC = gcc
CFLAGS = -Wall -Wextra -Werror -pedantic -std=c99
APP = app
TEST = test_app

.PHONY: all build test clean

all: build test

# Programa principal
build: main.c funciones.c funciones.h
	@echo "ğŸ”¨ Compilando aplicaciÃ³n..."
	$(CC) $(CFLAGS) -o $(APP) main.c funciones.c
	@echo "âœ… AplicaciÃ³n: $(APP)"

# Pruebas (su propio main)
test: tests.c funciones.c funciones.h
	@echo "ğŸ§ª Compilando pruebas..."
	$(CC) $(CFLAGS) -o $(TEST) tests.c funciones.c
	@echo "âœ… Ejecutando pruebas..."
	./$(TEST) || (echo "âŒ Pruebas fallaron" && exit 1)

clean:
	rm -f $(APP) $(TEST)
	@echo "ğŸ§¹ Limpiado"